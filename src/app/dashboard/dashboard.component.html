<app-menu></app-menu>
<section class="top_custom_height bg_white">

  <div class="loading_content" *ngIf="noContent">
    <i class="fas fa-spinner fa-spin"></i>
    <br>
    <b>Please wait...</b>
  </div>

  <div *ngIf="!noContent" class="container dashboard_section">
    <div class="balance_section">
      <h4 class="font_bold color_black">Your Account Balance</h4>
      <div class="row" *ngIf="userBalance && usd_Xlm && xlm_Usd">
        <div class="col-sm-4">
          <div class="outer_box">
            <h4 class="font_bold color_white">Available Balance - USD</h4>
            <h3 class="font_bold">$ {{userBalance * xlm_Usd.USD | number : '1.2-2'}}</h3>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="outer_box">
            <h4 class="font_bold">Available Balance - XLM</h4>
            <h3 class="font_bold"> {{userBalance}} XLM</h3>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="outer_box">
            <h4 *ngIf="xlm_Usd" class="font_bold">1 XLM = {{xlm_Usd.USD}} USD</h4>
            <h3 *ngIf="usd_Xlm" class="font_bold">1 USD = {{usd_Xlm.XLM}} XLM</h3>
          </div>
        </div>
      </div>
    </div>

    <hr>

    <div *ngIf="lineChartData && lineChartLabels" class="graph_section">
      <h4 class="font_bold color_black">XLM Rate Flow</h4>
      <br>
      <div style="display: block;" *ngIf="lineChartData && lineChartLabels">
        <canvas baseChart width="300" height="80" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions"
          [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType"></canvas>
      </div>
    </div>

    <!-- <div class="recent_activities_section">
      <h4 class="font_bold color_black">Recent sent Transactions</h4>
      <div class="row">
        <div class="col-sm-10">
          <div class="recent_transactions_card" *ngFor="let transaction of sentTransactions | slice:0:10">
            Successfully
            <b style="color:blue">Sent</b>
            <b> $ {{transaction.walletAmount}}</b> USD to
            <b>{{transaction.receiver.firstName}} {{transaction.receiver.lastName}}</b> on {{transaction.createdTs | date: 'dd/MM/yyyy
            HH:mm:ss'}}. Ref-Id: {{transaction._id}}
          </div>

        </div>
      </div>
    </div> -->

    <hr>

    <div class="recent_activities_section">
      <div class="row">
        <div class="col-md-6">
          <h4 class="font_bold color_black text_align_center">Recent sent Transactions</h4>
          <br>
          <div class="card" *ngFor="let transaction of sentTransactions | slice:0:4">
            <div class="small-font">
              <span>Sent to</span>
              <span class="right-float">{{transaction.createdTs | date: 'dd/MM/yyyy HH:mm:ss'}}</span>
            </div>
            <div class="card-details">
              <span>{{transaction.receiver.firstName}} {{transaction.receiver.lastName}}</span>
              <span class="right-float"> {{transaction.walletAmount}} USD</span>
            </div>
            <div class="small-font">
              <span>Transaction ID: {{transaction._id}}</span>
              <span style="color:green" class="right-float">Success</span>
            </div>
          </div>

          <div (click)="redirectToTransactionPage()" class="view-more">View more</div>
        </div>

        <div class="col-md-6">
          <h4 class="font_bold color_black text_align_center">Recent Deposit Transactions</h4>
          <br>

          <div class="card" *ngFor="let transaction of depositTransactions | slice:0:4">
            <div class="small-font">
              <span>Amount Deposited</span>
              <span class="right-float">{{transaction.createdTs | date: 'dd/MM/yyyy HH:mm:ss'}}</span>
            </div>
            <div class="card-details">
              <span>{{transaction.amount}} USD</span>
              <span class="right-float"> {{transaction.received | number:'1.2-2'}} XLM</span>
            </div>
            <div class="small-font">
              <span>Transaction ID: {{transaction._id}}</span>
              <span style="color:green" class="right-float">Success</span>
            </div>
          </div>
          <div (click)="redirectToTransactionPage()" class="view-more">View more</div>
        </div>
      </div>
    </div>

  </div>

  <app-footer></app-footer>
</section>