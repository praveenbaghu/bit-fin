<app-menu></app-menu>
<section class="top_custom_height">
  <div class="bg_color">

    <div class="loading_content" *ngIf="noContent">
      <i class="fas fa-spinner fa-spin"></i>
      <br>
      <b>Please wait...</b>
    </div>


    <div *ngIf="!noContent" class="container">
      <ul class="nav nav-tabs">
        <li class="active">
          <a data-toggle="tab" href="#send">SEND</a>
        </li>
        <li>
          <a data-toggle="tab" href="#receive">RECEIVE</a>
        </li>
        <li>
          <a data-toggle="tab" href="#deposit">DEPOSIT</a>
        </li>
        <li>
          <a data-toggle="tab" href="#withdraw">WITHDRAW</a>
        </li>
      </ul>

      <div class="tab-content">
        <div id="send" class="tab-pane fade in active">

          <div class="internal_section">
            <div class="text_align_center center_align">
              <h4>Sent Transaction Details</h4>
              <div>
                <br>
                <p class="text_align_left color_black">
                  All the transactions that you have sent to other users are listed below.
                </p>
                <div *ngIf="sentTransactions" class="table-responsive">
                  <div *ngIf="sentTransactions.length == 0">
                    <p class="no_transactions">Sorry , No transactions found</p>
                  </div>
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>S.No</th>
                        <th>Sent To</th>
                        <th>Amount - USD</th>
                        <!-- <th>Amount - XLM</th> -->
                        <th>Transaction ID</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr (click)="modalData(transaction,'Sent Transaction Detail')" data-toggle="modal" data-target="#myModal" *ngFor="let transaction of sentTransactions | paginate: { itemsPerPage: 10, currentPage: pageNo1 ,id:'sent' };let i = index;">
                        <td>{{i+1}}</td>
                        <td>{{transaction.receiver.firstName}} {{transaction.receiver.lastName}}</td>
                        <td>$ {{transaction.walletAmount}}</td>
                        <!-- <td>{{transaction.amount}} XLM</td> -->
                        <td>{{transaction._id}}</td>
                        <td>{{transaction.createdTs | date: 'dd/MM/yyyy'}}</td>
                        <td>{{transaction.createdTs | date: 'HH:mm:ss'}}</td>
                        <td>Success</td>
                      </tr>
                    </tbody>
                  </table>
                  <pagination-controls id="sent" class="my-pagination" (pageChange)="pageNo1 = $event"></pagination-controls>
                </div>

              </div>
            </div>
          </div>

        </div>
        <div id="receive" class="tab-pane fade">
          <div class="internal_section">
            <div class="text_align_center center_align">
              <h4>Received Transaction Details</h4>
              <div>
                <br>
                <p class="text_align_left">
                  All the transactions that other users have sent to you are listed below.
                </p>
                <div *ngIf="receivedTransactions" class="table-responsive">
                  <div *ngIf="receivedTransactions.length == 0">
                    <p class="no_transactions">Sorry , No transactions found</p>
                  </div>
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>S.No</th>
                        <th>Sent From</th>
                        <th>Amount</th>
                        <th>Transaction ID</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr (click)="modalData(transaction,'Received Transaction Detail')" data-toggle="modal" data-target="#myModal" *ngFor="let transaction of receivedTransactions | paginate: { itemsPerPage: 10, currentPage: pageNo2 ,id:'received' };let i = index">
                        <td>{{i+1}}</td>
                        <td>{{transaction.sender.firstName}} {{transaction.sender.lastName}}</td>
                        <td>$ {{transaction.walletAmount}}</td>
                        <!-- <td>{{transaction.amount}} XLM</td> -->
                        <td>{{transaction._id}}</td>
                        <td>{{transaction.createdTs | date: 'dd/MM/yyyy'}}</td>
                        <td>{{transaction.createdTs | date: 'HH:mm:ss'}}</td>
                        <td>Success</td>
                      </tr>
                    </tbody>
                  </table>
                  <pagination-controls id="received" class="my-pagination" (pageChange)="pageNo2 = $event"></pagination-controls>

                </div>

              </div>
            </div>
          </div>
        </div>
        <div id="deposit" class="tab-pane fade">
          <div class="internal_section">
            <div class="text_align_center center_align">
              <h4> Deposit Amount Details</h4>
              <div>
                <br>
                <p class="text_align_left">
                  All the details of your deposit transactions are listed below.
                </p>
                <div *ngIf="depositTransactions" class="table-responsive">
                  <div *ngIf="depositTransactions.length == 0">
                    <p class="no_transactions">Sorry , No transactions found</p>
                  </div>
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>S.No</th>
                        <th>USD Amount</th>
                        <th>Transaction ID</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>

                      <tr (click)="modalData(transaction,'Deposit Transaction Detail')" data-toggle="modal" data-target="#myModal" *ngFor="let transaction of depositTransactions | paginate: { itemsPerPage: 10, currentPage: pageNo3 ,id:'deposit' };let i = index">
                        <td>{{i+1}}</td>
                        <td>$ {{transaction.amount}}</td>
                        <!-- <td>{{transaction.amount}} XLM</td> -->
                        <td>{{transaction._id}}</td>
                        <td>{{transaction.createdTs | date: 'dd/MM/yyyy'}}</td>
                        <td>{{transaction.createdTs | date: 'HH:mm:ss'}}</td>
                        <td>Success</td>
                      </tr>
                    </tbody>
                  </table>
                  <pagination-controls id="deposit" class="my-pagination" (pageChange)="pageNo3 = $event"></pagination-controls>

                </div>

              </div>
            </div>
          </div>
        </div>
        <div id="withdraw" class="tab-pane fade">
          <div class="internal_section">
            <div class="text_align_center center_align">
              <h4> Withdraw Amount Details</h4>
              <div>
                <br>
                <p class="text_align_left">
                  All the details of the withdrawl requests by you are listed below.
                </p>
                <div *ngIf="withdrawTransactions" class="table-responsive">
                  <div *ngIf="withdrawTransactions.length == 0">
                    <p class="no_transactions">Sorry , No transactions found</p>
                  </div>
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>S.No</th>
                        <th>USD Amount</th>
                        <th>Transaction ID</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr (click)="modalData(transaction,'Withdraw Transaction Detail')" data-toggle="modal" data-target="#myModal" *ngFor="let transaction of withdrawTransactions | paginate: { itemsPerPage: 10, currentPage: pageNo4 ,id:'withdraw' };let i = index">
                        <td>{{i+1}}</td>
                        <td>$ {{transaction.received}}</td>
                        <!-- <td>{{transaction.amount}} XLM</td> -->
                        <td>{{transaction._id}}</td>
                        <td>{{transaction.createdTs | date: 'dd/MM/yyyy'}}</td>
                        <td>{{transaction.createdTs | date: 'HH:mm:ss'}}</td>
                        <td>Success</td>
                      </tr>
                    </tbody>
                  </table>
                  <pagination-controls id="withdraw" class="my-pagination" (pageChange)="pageNo4 = $event"></pagination-controls>

                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">

          <div style="text-align:center" class="modal-header">
            <h4>{{modal.title}}</h4>
          </div>
          <div class="modal-body">
            <div class="modal-highlight">

            </div>
            <div class="modal-details">
              <table>
                <tbody>
                  <tr>
                    <td>
                      <b>Sent to</b>
                    </td>
                    <td>{{modal.receiver}}</td>
                  </tr>
                  <tr>
                    <td>
                      <b>Status</b>
                    </td>
                    <td>Success</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <hr>
            <div class="modal-amount">
              <tbody>
                <tr>
                  <td>Amount Sent</td>
                  <td>$ {{modal.amount}}</td>
                </tr>
                <tr>
                  <td>Transaction Fee</td>
                  <td>$ {{modal.fee}}</td>
                </tr>
              </tbody>
              <hr>
              <tbody>
                <tr>
                  <td>Amount Sent</td>
                  <td>$ {{modal.amount + modal.fee}}</td>
                </tr>
              </tbody>
              <hr>
            </div>
            createdTime : {{modal.createdTime}}
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div>
    </div>

  </div>
  <app-footer></app-footer>
</section>